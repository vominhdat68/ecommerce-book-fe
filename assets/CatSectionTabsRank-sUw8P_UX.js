import{Q as f,r as c,T as u,j as e,S as p,U as T,L as k,V as m}from"./index-RONHcivn.js";import{S as F}from"./SectionHeader-DrWLw4rF.js";import{C as y}from"./ContainerTabs-DVemJ_Wj.js";const C=({product:s,activeId:a,onHover:d})=>e.jsx("div",{onMouseEnter:()=>d(s),className:`px-3 mb-4 cursor-pointer
            ${a===s.id?"hover:border-r-[2px] hover:border-[#F39801]":""}
        `,children:e.jsxs(k,{to:s.product_url,className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center mr-2",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:s.rank}),e.jsx("i",{className:"fa fa-arrow-up text-green-600"})]}),e.jsx("img",{src:s.image_url,alt:s.name,className:"h-[100px] object-cover"}),e.jsxs("div",{className:"text-[13px] self-start",children:[e.jsx("div",{className:"text-sm font-[#000000]",children:s.name}),e.jsx("div",{className:"text-[#808080]",children:s.author}),e.jsx("div",{className:"text-[#2F80ED]",children:s.voted})]})]})}),L=({product:s})=>{if(s)return e.jsxs("div",{className:"grid grid-cols-6",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("a",{href:`/product/${s.id}`,children:e.jsx("img",{src:s.image_url,alt:s.name,className:"max-h-[350px] object-cover transition-transform duration-300 hover:scale-103"})})}),e.jsxs("div",{className:"col-span-4 text-[14px] text-gray-700 pl-3 mx-3",children:[e.jsxs("a",{href:`/product/${s.id}`,className:"block",children:[e.jsx("h2",{className:"text-[18px] font-semibold mb-1",children:s.name}),e.jsxs("div",{className:"text-gray-600",children:["Tác giả: ",e.jsx("span",{className:"font-medium",children:s.author})]}),e.jsxs("div",{className:"text-gray-600",children:["Nhà xuất bản:"," ",e.jsx("span",{className:"font-medium",children:s.publisher})]})]}),e.jsx("div",{className:"flex items-center mt-4 gap-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-[20px] font-bold text-blue-600",children:[m(s.discount_price)," đ"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"line-through text-gray-400",children:m(s.price)}),e.jsxs("div",{className:"text-[#F39801] font-semibold bg-[#F7941E]/20 p-1 rounded-lg ",children:[s.discount_percent,"%"]})]})]})}),e.jsx("div",{className:"mt-5 text-sm leading-relaxed ",dangerouslySetInnerHTML:{__html:s.description}})]})]},s.id)},E=({typeProduct:s})=>{const{data:a}=f({section:s}),d={title:a?.data.title,iconURL:a?.data.iconURL,bgImage:a?.data.bg_url},h={colorTitle:"#FFFFFF"},i=a?.data.tabs||[],[t,o]=c.useState(),[x,n]=c.useState();c.useEffect(()=>{i.length>0&&!t&&o(i[0].key)},[i,t]);const{data:j,isLoading:v,isFetching:b}=u({tab:t},{skip:!t}),r=j||[];c.useEffect(()=>{r.length>0?n(r[0]):n(void 0)},[r]);const g=l=>{o(l),n(void 0)},N=v||b;return e.jsxs(p,{children:[a?.data.title&&e.jsx(F,{sectionHeader:d,ui:h}),e.jsx(y,{labelTabs:i,activeTab:t,onTabChange:g,onActionClick:()=>alert(`Load more ${t}`),children:N?e.jsx(T,{}):e.jsxs("div",{className:"grid grid-cols-7 bg-white rounded-lg",children:[e.jsx("div",{className:"col-span-3 border-r-[1px] border-[#adadad]",children:r.map(l=>e.jsx(C,{product:l,activeId:x?.id,onHover:n},l.id))}),e.jsx("div",{className:"col-span-4 px-5",children:e.jsx(L,{product:x})})]})})]})};export{E as default};
