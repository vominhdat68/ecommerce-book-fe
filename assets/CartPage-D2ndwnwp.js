import{j as e,L,P as C,g as F,u as D,c as f,R as k,a as z,b as U,d as H,r as d,e as J,s as Q,f as E,h as Z,i as B,t as R,k as _,C as W,S as V}from"./index-RONHcivn.js";import{Q as X}from"./QuantitySelectorShare-BmdZi9O9.js";const K="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjAiIGhlaWdodD0iMTYwLjAwMSIgdmlld0JveD0iMCAwIDE2MCAxNjAuMDAxIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZjJmNGY1O30uYntmaWxsOiNlM2U1ZTU7fS5je2ZpbGw6I2NkY2ZkMDt9LmQsLmosLmssLmx7ZmlsbDojYjRiNmI4O30uZXtmaWxsOiM0NjRhNGM7fS5me2ZpbGw6IzdhN2U3Zjt9Lmd7ZmlsbDojOTc5Njk3O30uaCwuaXtmaWxsOm5vbmU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30uaHtzdHJva2U6I2YxZjFmMjtzdHJva2Utd2lkdGg6MnB4O30uaXtzdHJva2U6I2I0YjZiODt9Lmp7Zm9udC1zaXplOjI5cHg7fS5qLC5rLC5se2ZvbnQtZmFtaWx5Ok51bml0by1FeHRyYUJvbGQsIE51bml0bztmb250LXdlaWdodDo4MDA7fS5re2ZvbnQtc2l6ZToyMnB4O30ubHtmb250LXNpemU6MThweDt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNC44MyAtNTkuNjcpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTI3NC44MywxMzkuNjY0QTgwLDgwLDAsMSwxLDE5NC44MzUsNTkuNjcsNzkuNzUxLDc5Ljc1MSwwLDAsMSwyNzQuODMsMTM5LjY2NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMCkiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTUuMDI4IDEzNC44OTYpIj48cGF0aCBjbGFzcz0iYiIgZD0iTTM1Ny40ODIsMTY1LjQ2MWE5MC41MTIsOTAuNTEyLDAsMCwxLTEuODEzLDE0Ljg2NmMtLjM0MSwxLjYzOC0uNzE1LDMuMjUzLTEuMTUyLDQuODQ1YTkxLjg3LDkxLjg3LDAsMCwxLTIwLjksMjguODVxLTEuODg4LDEuNzUyLTMuODcyLDMuMzY3YTgyLjAxNSw4Mi4wMTUsMCwwLDEtNDYuMywxOC43NDhjLTEuOTQxLjE0OS0zLjkuMjE4LTUuODg3LjIxOHEtMi4wMTYsMC00LS4xYTgxLjg1Nyw4MS44NTcsMCwwLDEtNDguMTQ0LTE4LjgyOHEtMi4wMTYtMS42MzItMy45MTQtMy40YTkyLjI4Miw5Mi4yODIsMCwwLDEtMjAuNzc2LTI4LjUyOWMtLjIxMy0uNzc5LS40MTYtMS41OC0uNjA4LTIuMzcxYTkwLjYyLDkwLjYyLDAsMCwxLTIuNDMyLTE3LjUxMSwzNy4xMzIsMzcuMTMyLDAsMCwxLDEzLjg2NS0yLjg0QTIyLjgxNCwyMi44MTQsMCwwLDEsMjIxLjUsMTY0LjhhMTguMjkxLDE4LjI5MSwwLDAsMSwzLjk3OCwyLjU0M2M4Ljc3OCw3LjE2OSwxMC4zNDYsMjAuMzUyLDIzLjg5MSwyMC4zNTIsMTguNjMzLDAsMTguMTg1LTI0LjkyMSw0NC42MjQtMjQuOTIxczE2Ljk3OSwyNC45MjEsMzEuNTkxLDI0LjkyMWExMi4wMzcsMTIuMDM3LDAsMCwwLDQuMTYtLjczMywxNS4xNSwxNS4xNSwwLDAsMCwzLjg3Mi0yLjFDMzQwLjMyMSwxODAuMDE4LDM0NS43NzEsMTcwLjIsMzU3LjQ4MiwxNjUuNDYxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5Ny42OCAtMTYyLjc3KSIvPjxwYXRoIGNsYXNzPSJjIiBkPSJNMzU1LjQsMTc4LjI2Yy0uMzQxLDEuNjM4LS43MTQsMy4yNTMtMS4xNTEsNC44NDVhODYuNjU3LDg2LjY1NywwLDAsMS0yNC43NTgsNDEuNTg1LDc1Ljc1MSw3NS43NTEsMCwwLDEtMTA0LjI1MywwLDg2LjY3Miw4Ni42NzIsMCwwLDEtMjQuNjcyLTQxLjI2NGMtLjIxMy0uNzc5LS40MTYtMS41ODEtLjYwNy0yLjM3MUEzNi4xNDYsMzYuMTQ2LDAsMCwxLDIxNS45ODksMTc3YTIxLjExMywyMS4xMTMsMCwwLDEsOS4yNTEsMS44OWMxMS42Nyw1LjUyLDExLjYyNywyMS4zLDI1LjkxOSwyMS4zLDE3LjMxOSwwLDE2LjktMjMuMTkyLDQxLjQ5LTIzLjE5MnMxNS43OTUsMjMuMTkyLDI5LjM4MywyMy4xOTJhMTIuNCwxMi40LDAsMCwwLDcuNDYtMi42MzRDMzM2LjQsMTkyLjU3NiwzNDEuODc3LDE4MS45LDM1NS40LDE3OC4yNloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOTcuNDYzIC0xNjAuNzAyKSIvPjwvZz48cGF0aCBjbGFzcz0iZCIgZD0iTTIyNy40NzEsMTM5LjV2NjEuODIyYTgwLjA1MSw4MC4wNTEsMCwwLDEtNzYuMTQxLTEuMjYyVjEzOS41WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4yNjggOS4zMzQpIi8+PHBhdGggY2xhc3M9ImUiIGQ9Ik0xMzYuMTcsMTUxLjgzdjM0LjAyMmE3OS45MTMsNzkuOTEzLDAsMCwwLDEwOS42MzgsMi41MzVWMTUxLjgzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi40OTUgMTAuNzc2KSIvPjxwYXRoIGNsYXNzPSJmIiBkPSJNMTUzLjEwNywxMzkuNWwtMTYuOTQsMTMuNzc1aDE2Ljk0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi40OTUgOS4zMzQpIi8+PHBhdGggY2xhc3M9ImYiIGQ9Ik0yMTkuNSwxMzkuNWwxNi41NjQsMTMuNzc1SDIxOS41WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMjM5IDkuMzM0KSIvPjxjaXJjbGUgY2xhc3M9ImciIGN4PSIyLjg5NyIgY3k9IjIuODk3IiByPSIyLjg5NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTg0LjAzNiAxNjUuMjk3KSIvPjxjaXJjbGUgY2xhc3M9ImciIGN4PSIyLjg5NyIgY3k9IjIuODk3IiByPSIyLjg5NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTk5LjgzIDE2NS4yOTcpIi8+PHBhdGggY2xhc3M9ImgiIGQ9Ik0xNzkuNDA3LDE1OC4zMDVzLTIuMjQ2LTE0LjA2NSw4LjA0LTE0LjA2NSw3Ljc1NCwxNC4wNjUsNy43NTQsMTQuMDY1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LjUyNiA5Ljg4OCkiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTcuNTU3IDExMS44NjYpIj48cmVjdCBjbGFzcz0iZCIgd2lkdGg9IjMuNTUxIiBoZWlnaHQ9IjMuNTUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjUxMSAyNy4xNDYpIHJvdGF0ZSg0NSkiLz48cmVjdCBjbGFzcz0iZCIgd2lkdGg9IjMuNTUxIiBoZWlnaHQ9IjMuNTUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ny44ODMgMjQuNjM2KSByb3RhdGUoNDUpIi8+PGxpbmUgY2xhc3M9ImkiIHgyPSI3LjAwMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMjEgOC4zODYpIi8+PGxpbmUgY2xhc3M9ImkiIHgyPSI3LjAwMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjQuOTkxIDMuNTAyKSIvPjxsaW5lIGNsYXNzPSJpIiB5Mj0iNy4wMDMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguNTIzIDQuODg0KSIvPjxsaW5lIGNsYXNzPSJpIiB5Mj0iNy4wMDMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY4LjQ5MykiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc1Ljk3MSA4MC40NDUpIj48dGV4dCBjbGFzcz0iaiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyOSkiPjx0c3BhbiB4PSIwIiB5PSIwIj5aPC90c3Bhbj48L3RleHQ+PHRleHQgY2xhc3M9ImsiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxIDQ4KSI+PHRzcGFuIHg9IjAiIHk9IjAiPlo8L3RzcGFuPjwvdGV4dD48dGV4dCBjbGFzcz0ibCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCA2MykiPjx0c3BhbiB4PSIwIiB5PSIwIj5aPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L3N2Zz4=",q=()=>e.jsx("div",{className:"w-full bg-white rounded-[8px]",children:e.jsxs("div",{className:"cart-empty py-10 flex flex-col items-center",children:[e.jsx("img",{src:K}),e.jsx("p",{className:"text-sm my-6",children:"Chưa có sản phẩm trong giỏ hàng của bạn."}),e.jsx(L,{to:C.general.home,children:e.jsx("button",{className:"w-[220px] h-[40px] bg-[#C92127] text-white rounded-[8px] cursor-pointer",children:e.jsx("span",{className:"text-sm uppercase",children:" Mua sắm ngay"})})})]})}),$=({itemsCount:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"cart-title flex items-center my-4 font-normal",children:[e.jsx("h1",{className:"uppercase !m-0 !text-xl",children:"Giỏ hàng"}),e.jsxs("span",{className:"ml-[5px] text-base",children:["(",s," sản phẩm)"]})]})});var w={exports:{}},v;function ee(){if(v)return w.exports;v=1;function s(i,c=100,r={}){if(typeof i!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof i}\`.`);if(c<0)throw new RangeError("`wait` must not be negative.");const{immediate:x}=typeof r=="boolean"?{immediate:r}:r;let m,l,t,n,o;function M(){const j=m,g=l;return m=void 0,l=void 0,o=i.apply(j,g),o}function u(){const j=Date.now()-n;j<c&&j>=0?t=setTimeout(u,c-j):(t=void 0,x||(o=M()))}const a=function(...j){if(m&&this!==m&&Object.getPrototypeOf(this)===Object.getPrototypeOf(m))throw new Error("Debounced method called with different contexts of the same prototype.");m=this,l=j,n=Date.now();const g=x&&!t;return t||(t=setTimeout(u,c)),g&&(o=M()),o};return Object.defineProperty(a,"isPending",{get(){return t!==void 0}}),a.clear=()=>{t&&(clearTimeout(t),t=void 0)},a.flush=()=>{t&&a.trigger()},a.trigger=()=>{o=M(),a.clear()},a}return w.exports.debounce=s,w.exports=s,w.exports}var te=ee();const se=F(te);function ne(s){return D(i=>f.endpoints.getCart.select()(i)?.data?.items?.find(r=>r.product_id===s))}const ie=k.memo(({itemId:s,isSelected:i,onToggleSelect:c})=>{const r=z(),[x,{isLoading:m}]=U(),[l]=H(),t=ne(s),[n,o]=d.useState(t?.quantity??1),M=d.useMemo(()=>t?t.price*t.quantity:0,[t?.price,t?.quantity]),u=d.useMemo(()=>se(async(h,N)=>{if(N<=0)return;const b=r(f.util.updateQueryData("getCart",void 0,p=>{const y=p.items.find(A=>A.product_id===h);y&&(y.quantity=N)}));try{await x({id:h,quantity:N}).unwrap()}catch{b.undo(),o(t?.quantity||1)}},300),[r,x,t?.quantity]),a=d.useCallback(h=>{h<=0||(o(h),u(s,h))},[u,s]),j=d.useCallback(()=>a(n+1),[a,n]),g=d.useCallback(()=>a(n-1),[a,n]),G=d.useCallback(()=>{c(s)},[c,s]),P=d.useCallback(async h=>{const N=r(f.util.updateQueryData("getCart",void 0,b=>{const p=b.items,I=p.findIndex(y=>y.product_id===h);I!==-1&&p.splice(I,1)}));c(s);try{await l(h).unwrap()}catch{N.undo(),alert("Xóa sản phẩm thất bại")}},[r,l,c,s]);if(d.useEffect(()=>()=>u.clear(),[u]),d.useEffect(()=>{t?.quantity&&t.quantity!==n&&o(t.quantity)},[t?.quantity]),!t)return null;const{path:T,state:S}=J(t.product_url,t.product_id);return e.jsxs("div",{className:"grid grid-cols-[3fr_2fr] items-center py-5",children:[e.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr] items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:i,className:"w-4 h-4 mt-2 cursor-pointer accent-[#C92127]",onChange:G}),e.jsx(L,{to:T,state:S,children:e.jsx("img",{src:t.image,alt:t.name,loading:"lazy",className:"w-auto h-[119px] object-cover rounded"})}),e.jsxs("div",{className:"flex flex-col justify-between h-full",children:[e.jsx(L,{to:T,state:S,children:e.jsx("p",{className:"text-sm font-medium line-clamp-3",title:t.name,children:t.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-semibold text-base",children:e.jsxs("span",{children:[t.price.toLocaleString()," đ"]})}),e.jsx("div",{className:"line-through text-gray-400 text-xs",children:e.jsxs("span",{children:[t.original_price.toLocaleString()," đ"]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-[2fr_2fr_1fr] items-center",children:[e.jsx(X,{quantity:n,onIncrease:j,onDecrease:g,isLoading:m}),e.jsx("div",{className:"text-center px-1",children:e.jsxs("span",{className:"text-[#C92127] font-bold",children:[M.toLocaleString()," đ"]})}),e.jsx("div",{className:"text-center",children:e.jsx("i",{className:"ico_trash inline-block cursor-pointer",onClick:()=>P(t.product_id)})})]})]})});function Y(){const s=z(),i=D(a=>a.cart.selectedIds,Q),{data:c,isLoading:r,isError:x,error:m}=E(),l=d.useMemo(()=>c?.items??[],[c?.items]),t=d.useMemo(()=>l.map(a=>a.product_id),[l]),n=l.length,o=d.useMemo(()=>n>0&&t.every(a=>i.includes(a)),[t,i,n]),M=d.useCallback(a=>{s(a?Z(t):B())},[s,t]),u=d.useCallback(a=>{s(R(a))},[s]);return{items:l,itemIds:t,itemsCount:n,selectedIds:i,isAllSelected:o,isLoading:r,isError:x,error:m,handleSelectAll:M,handleToggleSelect:u}}const ae=()=>{const{items:s,itemsCount:i,selectedIds:c,isAllSelected:r,isLoading:x,handleSelectAll:m,handleToggleSelect:l}=Y(),t=k.useCallback(n=>{const o=n.target.checked;m(o)},[m]);return x?e.jsx("div",{className:"cart-left",children:e.jsx("div",{className:"bg-white rounded-lg py-8 px-4 text-center",children:e.jsx("div",{className:"animate-pulse",children:"Đang tải giỏ hàng..."})})}):i===0?e.jsx("div",{className:"cart-left",children:e.jsxs("div",{className:"bg-white rounded-lg py-8 px-4 text-center",children:[e.jsx("div",{className:"text-gray-500",children:"Giỏ hàng của bạn đang trống"}),e.jsx("div",{className:"text-sm text-gray-400 mt-2",children:"Hãy thêm sản phẩm vào giỏ hàng"})]})}):e.jsxs("div",{className:"cart-left",children:[e.jsxs("div",{className:"header-items bg-white rounded-lg py-2 px-4 mb-3 text-base font-medium grid grid-cols-[3fr_2fr] items-center",children:[e.jsxs("div",{className:"flex items-center gap-3 basis-3/5",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#C92127]",checked:r,onChange:t,disabled:i===0}),e.jsxs("span",{children:["Chọn tất cả (",i," sản phẩm)"]})]}),e.jsxs("div",{className:"flex basis-2/5 text-center",children:[e.jsx("span",{className:"basis-2/5",children:"Số lượng"}),e.jsx("span",{className:"basis-2/5",children:"Thành tiền"})]})]}),e.jsx("div",{className:"content-items divide-y divide-[#ededed] bg-white rounded-lg py-2 px-4",children:s.map(n=>e.jsx(ie,{itemId:n.product_id,isSelected:c.includes(n.product_id),onToggleSelect:l},n.product_id))})]})},ce="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='ico_coupon'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20class='mdl-js'%3e%3cpath%20id='Path_523'%20data-name='Path%20523'%20d='M0,0H24V24H0Z'%20fill='none'/%3e%3cline%20id='Line_169'%20data-name='Line%20169'%20y2='2'%20transform='translate(15%205)'%20fill='none'%20stroke='%232f80ed'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3cline%20id='Line_170'%20data-name='Line%20170'%20y2='2'%20transform='translate(15%2011)'%20fill='none'%20stroke='%232f80ed'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3cline%20id='Line_171'%20data-name='Line%20171'%20y2='2'%20transform='translate(15%2017)'%20fill='none'%20stroke='%232f80ed'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3cpath%20id='Path_524'%20data-name='Path%20524'%20d='M5,5H19a2,2,0,0,1,2,2v3a2,2,0,0,0,0,4v3a2,2,0,0,1-2,2H5a2,2,0,0,1-2-2V14a2,2,0,0,0,0-4V7A2,2,0,0,1,5,5'%20fill='none'%20stroke='%232f80ed'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3c/svg%3e",O="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='8.414'%20height='14.828'%20viewBox='0%200%208.414%2014.828'%20class='mdl-js'%3e%3cpath%20id='ico_seemore_blue'%20d='M6,9l6,6,6-6'%20transform='translate(-7.586%2019.414)%20rotate(-90)'%20fill='none'%20stroke='%232f80ed'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/svg%3e",re="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20class='mdl-js'%3e%3cpath%20d='M12%2021C16.9706%2021%2021%2016.9706%2021%2012C21%207.02944%2016.9706%203%2012%203C7.02944%203%203%207.02944%203%2012C3%2016.9706%207.02944%2021%2012%2021Z'%20stroke='%232489F4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%208V12'%20stroke='%232489F4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2016H12.01'%20stroke='%232489F4'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",le="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Group_1196'%20data-name='Group%201196'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20class='mdl-js'%3e%3cpath%20id='Path_541'%20data-name='Path%20541'%20d='M0,0H20V20H0Z'%20fill='none'/%3e%3ccircle%20id='Ellipse_62'%20data-name='Ellipse%2062'%20cx='7.5'%20cy='7.5'%20r='7.5'%20transform='translate(2.5%202.5)'%20fill='none'%20stroke='%239fa7ab'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3cline%20id='Line_176'%20data-name='Line%20176'%20y2='3.333'%20transform='translate(10%206.667)'%20fill='none'%20stroke='%239fa7ab'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3cline%20id='Line_177'%20data-name='Line%20177'%20x2='0.008'%20transform='translate(10%2013.333)'%20fill='none'%20stroke='%239fa7ab'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='1.5'/%3e%3c/svg%3e",oe=({title:s,description:i,expiryDate:c,remainingAmount:r,onBuyMore:x})=>{const[m,l]=d.useState(!1);return e.jsxs("div",{className:"flex flex-col rounded-lg bg-white p-3 mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center font-normal text-sm pb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:ce}),e.jsx("span",{className:"ml-2 text-[#2F80ED] uppercase",children:"Khuyến mãi"})]}),e.jsxs("div",{className:"flex text-[#2F80ED] cursor-pointer",onClick:()=>window.alert("Chưa có"),children:[e.jsx("span",{className:"mr-2",children:"Xem thêm"}),e.jsx("img",{src:O})]})]}),e.jsx("hr",{className:"w-95 mx-auto border-b border-gray-200"}),e.jsxs("div",{className:"promotion-content py-4",children:[e.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[e.jsx("h2",{children:s}),e.jsx("div",{children:e.jsx("img",{className:"cursor-pointer",src:re,onClick:()=>window.alert("Chưa có")})})]}),e.jsx("div",{className:"mr-15",children:e.jsx("p",{className:"text-base/6 line-clamp-2 wrap-break-word ",children:i})}),e.jsxs("div",{className:"process-bar flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"inline-block text-sm leading-none mt-2 mb-1 ",children:e.jsxs("span",{children:["HSD: ",c]})}),e.jsx("div",{className:"w-60 gray-200 rounded",children:e.jsx("div",{className:"text-ml bg-[#B6D3F9] h-[6px] rounded",style:{width:`${Math.min(100,r/13e4*100)}%`}})}),e.jsx("div",{className:"text-xs leading-none text-gray-500 mt-[2px]",children:e.jsxs("span",{children:["Mua thêm ",r.toLocaleString("vi-VN")," đ"]})})]}),e.jsx("button",{className:"px-3 py-2 rounded-md bg-[#007AFF] text-white text-sm cursor-pointer hover:bg-blue-600",onClick:()=>window.alert("Chưa có"),children:"Mua thêm"})]})]}),e.jsx("hr",{className:"w-95 mx-auto border-b border-gray-200"}),e.jsxs("div",{className:"flex text-ml text-[#7A7E7F] mt-2 ",children:[e.jsx("p",{className:"w-60 line-clamp-1 mr-2",children:"Có thể áp dụng đồng thời nhiều mã"}),e.jsxs("div",{className:"group-alert relative",children:[e.jsx("img",{src:le,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)}),e.jsxs("div",{className:`flex flex-col text-white text-center bg-[#222] w-[235px] py-2 px-4 rounded-sm
                            absolute left-1/2 -translate-x-1/2 top-7
                            transition-opacity duration-300 ease-out
                            ${m?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
                            `,children:[e.jsx("span",{children:"Áp dụng tối đa 1 mã giảm giá"}),e.jsx("span",{children:"và 1 mã freeship"})]})]})]})]})},de=()=>{const s=D(_),{data:i}=E(),{subtotal:c,total:r}=d.useMemo(()=>{const l=i?.items.filter(n=>s.includes(n.product_id))?.reduce((n,o)=>n+o.price*o.quantity,0);return{subtotal:l,total:l}},[i?.items,s]),x=s.length===0;return e.jsxs("div",{className:"w-full rounded-lg bg-white",children:[e.jsxs("div",{className:"flex justify-between flex-wrap px-3 py-3",children:[e.jsx("span",{className:"font-medium mr-1",children:"Thành tiền"}),e.jsxs("span",{children:[c?.toLocaleString("vi-VN")," đ"]})]}),e.jsx("hr",{className:"w-[95%] mx-auto text-[#ededed]"}),e.jsxs("div",{className:"flex justify-between items-center flex-wrap px-3 py-3 font-semibold",children:[e.jsx("span",{className:"mr-1",children:"Tổng Số Tiền (gồm VAT)"}),e.jsxs("span",{className:"text-[#C92127] text-xl",children:[r?.toLocaleString("vi-VN")," đ"]})]}),e.jsx("div",{className:"px-3",children:e.jsx(L,{to:C.checkout.cart,children:e.jsx("button",{disabled:x,onClick:()=>window.alert("Page Thanh Toán chưa có"),className:`w-full py-3 rounded-md font-semibold transition-colors
            ${x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#C92127] text-white cursor-pointer hover:bg-red-700 "}`,children:e.jsx("span",{className:"uppercase ",children:"Thanh toán"})})})}),e.jsx("div",{className:"mt-1 pb-3 px-3",children:e.jsx(L,{to:"/chinh-sach-khach-si/",children:e.jsx("span",{className:"text-[13px] text-[#FF0000] hover:text-[#F39801]",children:"(Giảm giá trên web chỉ áp dụng cho bán lẻ)"})})})]})},me="/assets/ico_chose-gift-DbaHFlLR.svg",xe=()=>e.jsxs("div",{className:`rounded-2xl border border-gray-200 p-3 mb-2 shadow-sm\r
       bg-linear-to-r from-[#E7E7FF] to-[#FFFFFF] \r
       flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:me}),e.jsx("span",{className:"ml-2 font-medium text-base font-semibold",children:"Nhận quà"})]}),e.jsxs("div",{className:"flex items-center text-sm cursor-pointer hover:opacity-80",onClick:()=>window.alert("Chưa có"),children:[e.jsx("span",{className:"text-[#2F80ED] text-sm",children:"Chọn quà"}),e.jsx("img",{className:"ml-2",src:O})]})]}),ue=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"cart-right ml-3",children:e.jsxs("div",{className:"sticky top-[130px] z-49",children:[e.jsxs("div",{className:"summary-top",children:[e.jsx(oe,{title:"Mã Giảm 10K - Toàn Sàn",description:"Đơn hàng từ 130k - Không bao gồm giá trị của các sản phẩm sau Manga, Ngoại Văn, Phiếu Quà Tặng, Sách Giáo Khoa, Máy Tính và Giấy Photo và Một Số Loại Giấy và Bảng Khác",expiryDate:"30/09/2025",remainingAmount:13e4,onBuyMore:()=>console.log("Mua thêm")}),e.jsx(xe,{})]}),e.jsx(de,{})]})})}),Me=()=>{const{itemsCount:s,isLoading:i}=Y(),c=s>0;if(i)return e.jsx(W,{});const r=()=>c?e.jsxs("div",{className:"grid grid-cols-[4fr_2fr] gap-3",children:[e.jsx(ae,{}),e.jsx(ue,{})]}):e.jsx(q,{});return e.jsx(V,{bgColor:"none",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx($,{itemsCount:s}),r()]})})};export{Me as default};
